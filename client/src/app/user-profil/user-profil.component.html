<div class="user-profil-container">
  <mat-toolbar color="primary" [class.mat-elevation-z4]="true">
    <a mat-icon-button matTooltip="Home" href="http://localhost:4200">
      <mat-icon>home</mat-icon>
    </a>
    <a mat-icon-button matTooltip="Logout" href="http://localhost:4200/logout">
      <mat-icon>logout</mat-icon>
    </a>
  </mat-toolbar>
  <mat-card class="user-profil-form-container">
    <mat-card-header>
      <mat-card-title>My account</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-tab-group>
        <mat-tab label="Login informations">
          <form [formGroup]="registrationFormStep1" id="registration-form-step-1">
            <mat-form-field appearance="outline">
              <mat-label>Email</mat-label>
              <input matInput type="email" placeholder="user@example.com" formControlName="email" required
                [readonly]="environment.inputs.email.readonly">
              <mat-error *ngIf="registrationFormStep1.get('email').invalid && !environment.inputs.email.readonly">
                {{getErrorMessage('registrationFormStep1', 'email')}}
              </mat-error>
              <button mat-icon-button matPrefix disabled>
                <mat-icon>email</mat-icon>
              </button>
            </mat-form-field>
            <mat-form-field appearance="outline"
              hintLabel="Your password must contain at least 8 characters with at least 1 numeric character, 1 uppercase letter, 1 lowercase letter and 1 special character.">
              <mat-label>Password</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" required
                (input)="onPasswordValueChange()" #passwordInput maxlength="32"
                [readonly]="environment.inputs.password.readonly">
              <mat-hint align="end">{{passwordInput.value?.length || 0}}/32</mat-hint>
              <mat-error *ngIf="registrationFormStep1.get('password').invalid">
                {{getErrorMessage('registrationFormStep1', 'password')}}
              </mat-error>
              <button mat-icon-button matPrefix disabled>
                <mat-icon>lock</mat-icon>
              </button>
              <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide" matTooltip="{{hide ? 'Show password' : 'Hide password'}}">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <button type="button" mat-icon-button matSuffix (click)="onEdit('password')"
                matTooltip="{{environment.inputs.password.readonly?'Edit this field':'Save modifications'}}">
                <mat-icon>{{environment.inputs.password.readonly?'edit':'save'}}</mat-icon>
              </button>
            </mat-form-field>
            <mat-form-field appearance="outline" *ngIf="!environment.inputs.password.readonly">
              <mat-label>Confirm your password</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" formControlName="confirmPassword" required>
              <mat-error *ngIf="registrationFormStep1.get('confirmPassword').invalid">
                {{getErrorMessage('registrationFormStep1', 'confirmPassword')}}</mat-error>
              <button mat-icon-button matPrefix disabled>
                <mat-icon>lock</mat-icon>
              </button>
              <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide" matTooltip="{{hide ? 'Show password' : 'Hide password'}}">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
            </mat-form-field>
          </form>
        </mat-tab>
        <mat-tab label="Personal informations"> Content 2
        </mat-tab>
        <mat-tab label="Joint member informations"> Content 3
        </mat-tab>
      </mat-tab-group>
    </mat-card-content>
  </mat-card>
</div>
