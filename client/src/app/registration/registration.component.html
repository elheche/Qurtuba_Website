<div class="registration-container">
  <mat-toolbar color="primary" [class.mat-elevation-z4]="true">
    <a mat-icon-button matTooltip="Home" href="http://localhost:4200">
      <mat-icon>home</mat-icon>
    </a>
    <a mat-icon-button matTooltip="Login" href="http://localhost:4200/login">
      <mat-icon>login</mat-icon>
    </a>
  </mat-toolbar>
  <mat-card class="registration-form-container">
    <mat-card-header>
      <mat-card-title>Open an account</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-horizontal-stepper linear="true" #stepper>
        <!-- Step 1 -->
        <mat-step [stepControl]="registrationFormStep1" [editable]="isEditable">
          <form [formGroup]="registrationFormStep1" id="registration-form-step-1">
            <ng-template matStepLabel>Step 1</ng-template>
            <h2>Create your login</h2>
            <mat-form-field appearance="outline">
              <mat-label>Enter your email</mat-label>
              <input matInput type="email" placeholder="user@example.com" formControlName="email" required />
              <mat-error *ngIf="registrationFormStep1.get('email').invalid">
                {{ getErrorMessage('registrationFormStep1', 'email') }}
              </mat-error>
              <button mat-icon-button matPrefix disabled>
                <mat-icon>email</mat-icon>
              </button>
            </mat-form-field>
            <mat-form-field
              appearance="outline"
              hintLabel="Your password must contain at least 8 characters with at least 1 numeric character, 1 uppercase letter, 1 lowercase letter and 1 special character."
            >
              <mat-label>Enter your password</mat-label>
              <input
                matInput
                [type]="hide ? 'password' : 'text'"
                formControlName="password"
                required
                (input)="onPasswordValueChange()"
                #passwordInput
                maxlength="32"
              />
              <mat-hint align="end">{{ passwordInput.value?.length || 0 }}/32</mat-hint>
              <mat-error *ngIf="registrationFormStep1.get('password').invalid">
                {{ getErrorMessage('registrationFormStep1', 'password') }}
              </mat-error>
              <button mat-icon-button matPrefix disabled>
                <mat-icon>lock</mat-icon>
              </button>
              <button
                type="button"
                mat-icon-button
                matSuffix
                (click)="hide = !hide"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide"
                matTooltip="{{ hide ? 'Show password' : 'Hide password' }}"
              >
                <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
              </button>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Confirm your password</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" formControlName="confirmPassword" required />
              <mat-error *ngIf="registrationFormStep1.get('confirmPassword').invalid">
                {{ getErrorMessage('registrationFormStep1', 'confirmPassword') }}</mat-error
              >
              <button mat-icon-button matPrefix disabled>
                <mat-icon>lock</mat-icon>
              </button>
              <button
                type="button"
                mat-icon-button
                matSuffix
                (click)="hide = !hide"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide"
                matTooltip="{{ hide ? 'Show password' : 'Hide password' }}"
              >
                <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
              </button>
            </mat-form-field>
            <div class="stepper-navigation-button-container">
              <button class="stepper-navigation-button" mat-raised-button color="primary" matStepperNext>Next</button>
            </div>
          </form>
        </mat-step>
        <!-- Step 2 -->
        <mat-step [stepControl]="registrationFormStep2" [editable]="isEditable">
          <form [formGroup]="registrationFormStep2" id="registration-form-step-2" #registrationFormStep2Ref="ngForm">
            <ng-template matStepLabel>Step 2</ng-template>
            <h2>Fill your membership application</h2>
            <mat-form-field appearance="outline">
              <mat-label>Indicate the type of membership</mat-label>
              <mat-select formControlName="membershipType" required>
                <mat-option>--</mat-option>
                <mat-option *ngFor="let membershipType of environment.inputs.membershipType.types" [value]="membershipType">
                  {{ membershipType }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="registrationFormStep2.get('membershipType').invalid">
                {{ getErrorMessage('registrationFormStep2', 'membershipType') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Indicate the type of account</mat-label>
              <mat-select formControlName="accountType" required (selectionChange)="onAccountTypeSelectionChange()">
                <mat-option>--</mat-option>
                <mat-option *ngFor="let accountType of environment.inputs.accountType.types" [value]="accountType">
                  {{ accountType }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="registrationFormStep2.get('accountType').invalid">
                {{ getErrorMessage('registrationFormStep2', 'accountType') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>First name</mat-label>
              <input matInput formControlName="firstName" required [value]="registrationFormStep2.get('firstName').value | titlecase" />
              <mat-error *ngIf="registrationFormStep2.get('firstName').invalid">
                {{ getErrorMessage('registrationFormStep2', 'firstName') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Last name</mat-label>
              <input matInput formControlName="lastName" required [value]="registrationFormStep2.get('lastName').value | titlecase" />
              <mat-error *ngIf="registrationFormStep2.get('lastName').invalid">
                {{ getErrorMessage('registrationFormStep2', 'lastName') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Birth day</mat-label>
              <input
                matInput
                type="date"
                formControlName="birthDay"
                required
                [min]="environment.inputs.birthDay.acceptedRange.minDate"
                [max]="environment.inputs.birthDay.acceptedRange.maxDate"
              />
              <mat-error *ngIf="registrationFormStep2.get('birthDay').invalid">
                {{ getErrorMessage('registrationFormStep2', 'birthDay') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Phone number</mat-label>
              <input
                matInput
                type="tel"
                formControlName="phoneNumber"
                maxlength="14"
                required
                (input)="formatPhoneNumber($event, 'registrationFormStep2', 'phoneNumber')"
                placeholder="Ex. (555) 555-1234"
              />
              <mat-error *ngIf="registrationFormStep2.get('phoneNumber').invalid">
                {{ getErrorMessage('registrationFormStep2', 'phoneNumber') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Address</mat-label>
              <input
                matInput
                formControlName="address"
                required
                placeholder="Ex. 123 Main St Apt 10"
                [value]="registrationFormStep2.get('address').value | titlecase"
              />
              <mat-error *ngIf="registrationFormStep2.get('address').invalid">
                {{ getErrorMessage('registrationFormStep2', 'address') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>City</mat-label>
              <input
                matInput
                formControlName="city"
                required
                placeholder="Ex. Montreal"
                [value]="registrationFormStep2.get('city').value | titlecase"
              />
              <mat-error *ngIf="registrationFormStep2.get('city').invalid">
                {{ getErrorMessage('registrationFormStep2', 'city') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Country</mat-label>
              <mat-select formControlName="country" required (selectionChange)="onCountryValueChange('registrationFormStep2')">
                <mat-option>--</mat-option>
                <mat-option *ngFor="let country of countries" [value]="country.countryName">
                  <mat-icon svgIcon="{{ 'flag-'.concat(country.countryShortCode.toLowerCase()) }}"></mat-icon>
                  {{ country.countryName }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="registrationFormStep2.get('country').invalid">
                {{ getErrorMessage('registrationFormStep2', 'country') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>State/Province/Region</mat-label>
              <mat-select formControlName="province" required>
                <mat-option>--</mat-option>
                <mat-option
                  *ngFor="
                    let province of countries[findSelectedCountryIndex('registrationFormStep2')]
                      ? countries[findSelectedCountryIndex('registrationFormStep2')].regions
                      : []
                  "
                  [value]="province.name"
                >
                  {{ province.name }} ({{ province.shortCode }})
                </mat-option>
              </mat-select>
              <mat-error *ngIf="registrationFormStep2.get('province').invalid">
                {{ getErrorMessage('registrationFormStep2', 'province') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Zip/Postal code</mat-label>
              <input
                matInput
                formControlName="postalCode"
                maxlength="14"
                required
                [value]="registrationFormStep2.get('postalCode').value | uppercase"
                (input)="formatCanadianPostalCode($event, 'registrationFormStep2')"
                placeholder="Ex. J4K 5G7"
              />
              <mat-error *ngIf="registrationFormStep2.get('postalCode').invalid">
                {{ getErrorMessage('registrationFormStep2', 'postalCode') }}
              </mat-error>
            </mat-form-field>
            <div class="stepper-navigation-button-container">
              <button class="stepper-navigation-button" mat-raised-button color="primary" matStepperPrevious>Back</button>
              <button class="stepper-navigation-button" mat-raised-button color="primary" matStepperNext>Next</button>
            </div>
          </form>
        </mat-step>
        <!-- Step 3 -->
        <mat-step [stepControl]="registrationFormStep3" [editable]="isEditable">
          <form [formGroup]="registrationFormStep3" id="registration-form-step-3">
            <ng-template matStepLabel>Step 3</ng-template>
            <h2>Fill your membership application (continued)</h2>
            <mat-form-field appearance="outline">
              <mat-label>Social Insurance Number</mat-label>
              <input
                matInput
                formControlName="socialInsuranceNumber"
                maxlength="11"
                required
                (input)="formatSocialInsuranceNumber($event, 'registrationFormStep3')"
                placeholder="Ex. 111-111-111"
                (blur)="formatSocialInsuranceNumber($event, 'registrationFormStep3')"
              />
              <mat-error *ngIf="registrationFormStep3.get('socialInsuranceNumber').invalid">
                {{ getErrorMessage('registrationFormStep3', 'socialInsuranceNumber') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Citizenship</mat-label>
              <mat-select formControlName="citizenship" required>
                <mat-option>--</mat-option>
                <mat-option *ngFor="let country of countries" [value]="country.countryName">
                  <mat-icon svgIcon="{{ 'flag-'.concat(country.countryShortCode.toLowerCase()) }}"></mat-icon>
                  {{ country.countryName }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="registrationFormStep3.get('citizenship').invalid">
                {{ getErrorMessage('registrationFormStep3', 'citizenship') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Profession</mat-label>
              <input matInput formControlName="profession" required [value]="registrationFormStep3.get('profession').value | titlecase" />
              <mat-error *ngIf="registrationFormStep3.get('profession').invalid">
                {{ getErrorMessage('registrationFormStep3', 'profession') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Employer</mat-label>
              <input matInput formControlName="employer" required [value]="registrationFormStep3.get('employer').value | titlecase" />
              <mat-error *ngIf="registrationFormStep3.get('employer').invalid">
                {{ getErrorMessage('registrationFormStep3', 'employer') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Employer phone number</mat-label>
              <input
                matInput
                type="tel"
                formControlName="employerPhoneNumber"
                maxlength="14"
                required
                (input)="formatPhoneNumber($event, 'registrationFormStep3', 'employerPhoneNumber')"
                placeholder="Ex. (555) 555-1234"
              />
              <mat-error *ngIf="registrationFormStep3.get('employerPhoneNumber').invalid">
                {{ getErrorMessage('registrationFormStep3', 'employerPhoneNumber') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Number of dependents</mat-label>
              <input
                matInput
                type="number"
                formControlName="numberOfDependents"
                required
                step="1"
                min="0"
                max="15"
                oninput="validity.valid||(value='');"
              />
              <mat-error *ngIf="registrationFormStep3.get('numberOfDependents').invalid">
                {{ getErrorMessage('registrationFormStep3', 'numberOfDependents') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Deposit amount</mat-label>
              <input
                matInput
                type="number"
                formControlName="depositAmount"
                required
                step="1"
                min="0"
                oninput="validity.valid||(value='')"
                class="deposit-amount"
                (input)="updateTotalAmount()"
              />
              <span matSuffix class="deposit-amount-suffix">.00 </span>
              <span matSuffix class="deposit-amount-suffix">$&nbsp;</span>
              <mat-error *ngIf="registrationFormStep3.get('depositAmount').invalid">
                {{ getErrorMessage('registrationFormStep3', 'depositAmount') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Donation for mosque</mat-label>
              <input
                matInput
                type="number"
                formControlName="donationForMosque"
                required
                step="1"
                min="0"
                oninput="validity.valid||(value='')"
                class="deposit-amount"
                (input)="updateTotalAmount()"
              />
              <span matSuffix class="deposit-amount-suffix">.00 </span>
              <span matSuffix class="deposit-amount-suffix">$&nbsp;</span>
              <mat-error *ngIf="registrationFormStep3.get('donationForMosque').invalid">
                {{ getErrorMessage('registrationFormStep3', 'donationForMosque') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline" hintLabel="$75.00 non-refundable.">
              <mat-label>Membership Fee</mat-label>
              <input matInput type="number" formControlName="membershipFee" step="1" min="0" class="deposit-amount" readonly />
              <span matSuffix class="deposit-amount-suffix">.00 </span>
              <span matSuffix class="deposit-amount-suffix">$&nbsp;</span>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Total amount</mat-label>
              <input matInput type="number" formControlName="totalAmount" step="1" min="0" class="deposit-amount" readonly />
              <span matSuffix class="deposit-amount-suffix">.00 </span>
              <span matSuffix class="deposit-amount-suffix">$&nbsp;</span>
            </mat-form-field>
            <div class="stepper-navigation-button-container">
              <button class="stepper-navigation-button" mat-raised-button color="primary" matStepperPrevious>Back</button>
              <button class="stepper-navigation-button" mat-raised-button color="primary" matStepperNext>Next</button>
            </div>
          </form>
        </mat-step>
        <!-- Step 4 -->
        <mat-step
          [stepControl]="registrationFormStep4"
          [editable]="isEditable"
          *ngIf="registrationFormStep2.get('accountType').value === 'Joint'"
        >
          <form [formGroup]="registrationFormStep4" id="registration-form-step-4">
            <ng-template matStepLabel>Step 4</ng-template>
            <h2>Fill the application form for the joint member</h2>
            <mat-form-field appearance="outline">
              <mat-label>First name</mat-label>
              <input matInput formControlName="firstName" required [value]="registrationFormStep4.get('firstName').value | titlecase" />
              <mat-error *ngIf="registrationFormStep4.get('firstName').invalid">
                {{ getErrorMessage('registrationFormStep4', 'firstName') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Last name</mat-label>
              <input matInput formControlName="lastName" required [value]="registrationFormStep4.get('lastName').value | titlecase" />
              <mat-error *ngIf="registrationFormStep4.get('lastName').invalid">
                {{ getErrorMessage('registrationFormStep4', 'lastName') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Address</mat-label>
              <input
                matInput
                formControlName="address"
                required
                placeholder="Ex. 123 Main St Apt 10"
                [value]="registrationFormStep4.get('address').value | titlecase"
              />
              <mat-error *ngIf="registrationFormStep4.get('address').invalid">
                {{ getErrorMessage('registrationFormStep4', 'address') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>City</mat-label>
              <input
                matInput
                formControlName="city"
                required
                placeholder="Ex. Montreal"
                [value]="registrationFormStep4.get('city').value | titlecase"
              />
              <mat-error *ngIf="registrationFormStep4.get('city').invalid">
                {{ getErrorMessage('registrationFormStep4', 'city') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Country</mat-label>
              <mat-select formControlName="country" required (selectionChange)="onCountryValueChange('registrationFormStep4')">
                <mat-option>--</mat-option>
                <mat-option *ngFor="let country of countries" [value]="country.countryName">
                  <mat-icon svgIcon="{{ 'flag-'.concat(country.countryShortCode.toLowerCase()) }}"></mat-icon>
                  {{ country.countryName }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="registrationFormStep4.get('country').invalid">
                {{ getErrorMessage('registrationFormStep4', 'country') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>State/Province/Region</mat-label>
              <mat-select formControlName="province" required>
                <mat-option>--</mat-option>
                <mat-option
                  *ngFor="
                    let province of countries[findSelectedCountryIndex('registrationFormStep4')]
                      ? countries[findSelectedCountryIndex('registrationFormStep4')].regions
                      : []
                  "
                  [value]="province.name"
                >
                  {{ province.name }} ({{ province.shortCode }})
                </mat-option>
              </mat-select>
              <mat-error *ngIf="registrationFormStep4.get('province').invalid">
                {{ getErrorMessage('registrationFormStep4', 'province') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Zip/Postal code</mat-label>
              <input
                matInput
                formControlName="postalCode"
                maxlength="14"
                required
                [value]="registrationFormStep4.get('postalCode').value | uppercase"
                (input)="formatCanadianPostalCode($event, 'registrationFormStep4')"
                placeholder="Ex. J4K 5G7"
              />
              <mat-error *ngIf="registrationFormStep4.get('postalCode').invalid">
                {{ getErrorMessage('registrationFormStep4', 'postalCode') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Social Insurance Number</mat-label>
              <input
                matInput
                formControlName="socialInsuranceNumber"
                maxlength="11"
                required
                (input)="formatSocialInsuranceNumber($event, 'registrationFormStep4')"
                placeholder="Ex. 111-111-111"
                (blur)="formatSocialInsuranceNumber($event, 'registrationFormStep4')"
              />
              <mat-error *ngIf="registrationFormStep4.get('socialInsuranceNumber').invalid">
                {{ getErrorMessage('registrationFormStep4', 'socialInsuranceNumber') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Citizenship</mat-label>
              <mat-select formControlName="citizenship" required>
                <mat-option>--</mat-option>
                <mat-option *ngFor="let country of countries" [value]="country.countryName">
                  <mat-icon svgIcon="{{ 'flag-'.concat(country.countryShortCode.toLowerCase()) }}"></mat-icon>
                  {{ country.countryName }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="registrationFormStep4.get('citizenship').invalid">
                {{ getErrorMessage('registrationFormStep4', 'citizenship') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Profession</mat-label>
              <input matInput formControlName="profession" required [value]="registrationFormStep4.get('profession').value | titlecase" />
              <mat-error *ngIf="registrationFormStep4.get('profession').invalid">
                {{ getErrorMessage('registrationFormStep4', 'profession') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Relationship</mat-label>
              <input
                matInput
                type="text"
                formControlName="relationship"
                required
                [matAutocomplete]="auto"
                [value]="registrationFormStep4.get('relationship').value | titlecase"
                placeholder="Ex. Wife"
              />
              <mat-autocomplete #auto="matAutocomplete">
                <mat-option *ngFor="let relationshipType of filteredRelationshipTypes | async" [value]="relationshipType">
                  {{ relationshipType }}
                </mat-option>
              </mat-autocomplete>
              <mat-error *ngIf="registrationFormStep4.get('relationship').invalid">
                {{ getErrorMessage('registrationFormStep4', 'relationship') }}
              </mat-error>
            </mat-form-field>
            <div class="stepper-navigation-button-container">
              <button class="stepper-navigation-button" mat-raised-button color="primary" matStepperPrevious>Back</button>
              <button class="stepper-navigation-button" mat-raised-button color="primary" matStepperNext>Next</button>
            </div>
          </form>
        </mat-step>
        <!-- Step 5 -->
        <mat-step [stepControl]="registrationFormStep5" [editable]="isEditable">
          <ng-template matStepLabel>Done</ng-template>
          <h2>Please check the information you have entered</h2>
          <div
            id="form-information-verification"
            [ngClass]="{
              'form-information-verification-individual': registrationFormStep2.get('accountType').value === 'Individual',
              'form-information-verification-joint': registrationFormStep2.get('accountType').value === 'Joint'
            }"
          >
            <p>
              <strong style="color: #3f51b5;">1- Owner member</strong><br />
              <strong>Email:</strong>&nbsp;{{ registrationFormStep1.get('email').value }}<br />
              <strong>Membership type:</strong>&nbsp;{{ registrationFormStep2.get('membershipType').value }}<br />
              <strong>Account type:</strong>&nbsp;{{ registrationFormStep2.get('accountType').value }}<br />
              <strong>First name:</strong>&nbsp;{{ registrationFormStep2.get('firstName').value }}<br />
              <strong>Last name:</strong>&nbsp;{{ registrationFormStep2.get('lastName').value }}<br />
              <strong>Birthday:</strong>&nbsp;{{ registrationFormStep2.get('birthDay').value }}<br />
              <strong>Phone number:</strong>&nbsp;{{ registrationFormStep2.get('phoneNumber').value }}<br />
              <strong>Address:</strong>&nbsp;{{ registrationFormStep2.get('address').value }}<br />
              <strong>City:</strong>&nbsp;{{ registrationFormStep2.get('city').value }}<br />
              <strong>Country:</strong>&nbsp;{{ registrationFormStep2.get('country').value }}<br />
              <strong>Province:</strong>&nbsp;{{ registrationFormStep2.get('province').value }}<br />
            </p>
            <mat-divider [vertical]="true" [inset]="true"></mat-divider>
            <p>
              <strong>Postal code:</strong>&nbsp;{{ registrationFormStep2.get('postalCode').value }}<br />
              <strong>Social insurance number (SIN):</strong>&nbsp;{{ registrationFormStep3.get('socialInsuranceNumber').value }}<br />
              <strong>Citizenship:</strong>&nbsp;{{ registrationFormStep3.get('citizenship').value }}<br />
              <strong>Profession:</strong>&nbsp;{{ registrationFormStep3.get('profession').value }}<br />
              <strong>Employer:</strong>&nbsp;{{ registrationFormStep3.get('employer').value }}<br />
              <strong>Employer phone number:</strong>&nbsp;{{ registrationFormStep3.get('employerPhoneNumber').value }}<br />
              <strong>Number Of dependents:</strong>&nbsp;{{ registrationFormStep3.get('numberOfDependents').value }}<br />
              <strong>Deposit amount:</strong>&nbsp;{{ registrationFormStep3.get('depositAmount').value }}&nbsp;$<br />
              <strong>Donation for mosque:</strong>&nbsp;{{ registrationFormStep3.get('donationForMosque').value }}&nbsp;$<br />
              <strong>Membership fee:</strong>&nbsp;{{ registrationFormStep3.get('membershipFee').value }}&nbsp;$<br />
              <strong>Total amount:</strong>&nbsp;{{ registrationFormStep3.get('totalAmount').value }}&nbsp;$<br />
            </p>
            <mat-divider [vertical]="true" [inset]="true" *ngIf="registrationFormStep2.get('accountType').value === 'Joint'"></mat-divider>
            <p *ngIf="registrationFormStep2.get('accountType').value === 'Joint'">
              <strong style="color: #3f51b5;">2- Joint member</strong><br />
              <strong>First name:</strong>&nbsp;{{ registrationFormStep4.get('firstName').value }}<br />
              <strong>Last name:</strong>&nbsp;{{ registrationFormStep4.get('lastName').value }}<br />
              <strong>Address:</strong>&nbsp;{{ registrationFormStep4.get('address').value }}<br />
              <strong>City:</strong>&nbsp;{{ registrationFormStep4.get('city').value }}<br />
              <strong>Country:</strong>&nbsp;{{ registrationFormStep4.get('country').value }}<br />
              <strong>Province:</strong>&nbsp;{{ registrationFormStep4.get('province').value }}<br />
              <strong>Postal code:</strong>&nbsp;{{ registrationFormStep4.get('postalCode').value }}<br />
              <strong>Social insurance number (SIN):</strong>&nbsp;{{ registrationFormStep4.get('socialInsuranceNumber').value }}<br />
              <strong>Citizenship:</strong>&nbsp;{{ registrationFormStep4.get('citizenship').value }}<br />
              <strong>Profession:</strong>&nbsp;{{ registrationFormStep4.get('profession').value }}<br />
              <strong>Relationship:</strong>&nbsp;{{ registrationFormStep4.get('relationship').value }}<br />
            </p>
          </div>
          <form [formGroup]="registrationFormStep5" id="registration-form-step-5" #registrationFormStep3Ref="ngForm">
            <div
              id="user-agreement-container"
              [ngClass]="{
                'user-agreement-container-invalid': registrationFormStep5.get('userAgreement').invalid && registrationFormStep3Ref.submitted
              }"
            >
              <mat-checkbox color="primary" formControlName="userAgreement" required>
                {{ userAgreementText }}
              </mat-checkbox>
              <mat-error *ngIf="registrationFormStep5.get('userAgreement').invalid && registrationFormStep3Ref.submitted">
                {{ getErrorMessage('registrationFormStep5', 'userAgreement') }}
              </mat-error>
            </div>
            <div class="stepper-navigation-button-container">
              <button class="stepper-navigation-button" mat-raised-button color="primary" matStepperPrevious>Back</button>
              <button class="stepper-navigation-button" mat-raised-button color="primary">Send</button>
            </div>
          </form>
        </mat-step>
      </mat-horizontal-stepper>
    </mat-card-content>
  </mat-card>
</div>
